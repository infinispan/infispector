language: node_js
node_js:
        - "iojs"
        - "8"
sudo: required
before_install:
        - wget "http://static.druid.io/artifacts/releases/druid-0.8.3-bin.tar.gz"
        - tar -zxvf druid-0.8.3-bin.tar.gz
        - wget "https://archive.apache.org/dist/kafka/0.8.2.0/kafka_2.10-0.8.2.0.tgz"
        - tar -zxvf kafka_2.10-0.8.2.0.tgz
install:
        - npm install
        - mvn clean install -f ./infinispan_example_app/pom.xml
script: 
        - node --version
        - ./infispector.sh help
        - ./infispector.sh prepare
        - ./infispector.sh nodes
        - ./testFunctionality.sh
        - npm --harmony test
